# =============================================================================
# Zentrio Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the required values.
# The .env file lives in the REPOSITORY ROOT (not app/).

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------
# Generate with:
#   Linux/Mac:  openssl rand -base64 32
#   Windows:    $b=New-Object byte[] 32;[System.Security.Cryptography.RandomNumberGenerator]::Create().GetBytes($b);[Convert]::ToBase64String($b)
AUTH_SECRET="your-super-secret-auth-key"

# Must be at least 32 characters. Use a 64-char hex string for best security:
#   Linux/Mac:  openssl rand -hex 32
#   Windows:    -join ((1..32)|%{'{0:x2}' -f (Get-Random -Max 256)})
ENCRYPTION_KEY="your-super-secret-encryption-key"

TMDB_API_KEY=your-tmdb-api-key

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
PORT=3000
APP_URL=http://localhost:3000
CLIENT_URL=http://localhost:5173
DATABASE_URL=./data/zentrio.db
NODE_ENV=development

# -----------------------------------------------------------------------------
# Email (choose one option)
# -----------------------------------------------------------------------------
# Option A: SMTP
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=you@gmail.com
# EMAIL_PASS=xxxx-xxxx-xxxx-xxxx   # Use an App Password for Gmail (not your account password)
# EMAIL_FROM=noreply@example.com

# Option B: SMTP URL (alternative to individual fields above)
# SMTP_URL=smtp://user:pass@smtp.example.com:587

# Option C: Resend (https://resend.com — recommended, free tier: 3,000 emails/month)
# RESEND_API_KEY=re_xxxxxxxxxxxx

# Provider selection: auto (default) | smtp | resend
# "auto" prefers Resend when configured, otherwise falls back to SMTP
# EMAIL_PROVIDER=auto

# Advanced email timeouts (milliseconds)
# EMAIL_SMTP_TIMEOUT_MS=8000
# EMAIL_SEND_TIMEOUT_MS=10000
# EMAIL_PROVIDER_BACKOFF_MS=300000

# -----------------------------------------------------------------------------
# Optional: SSO Providers
# -----------------------------------------------------------------------------
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=

# DISCORD_CLIENT_ID=
# DISCORD_CLIENT_SECRET=

# OIDC_CLIENT_ID=
# OIDC_CLIENT_SECRET=
# OIDC_ISSUER=
# OIDC_DISPLAY_NAME=OpenID

# -----------------------------------------------------------------------------
# Optional: Admin Security / Bootstrap
# -----------------------------------------------------------------------------
# Comma-separated allowlist — users with these emails are auto-elevated to admin on login.
# Remove or leave empty once your first admin account is set up.
# ADMIN_BOOTSTRAP_ALLOWED_EMAILS=admin@example.com,ops@example.com

# Dev/test only: route admin step-up OTPs (and phone OTPs) to this inbox instead
# of the real recipient. Has no effect in production (NODE_ENV=production).
# ADMIN_PHONE_OTP_DEV_FALLBACK_EMAIL=dev@example.com

# How long a completed step-up verification is valid for sensitive admin actions (minutes, default: 10)
# STEP_UP_MAX_AGE_MINUTES=10

# -----------------------------------------------------------------------------
# Optional: Rate Limiting
# -----------------------------------------------------------------------------
# RATE_LIMIT_WINDOW_MS=900000   # 15 minutes (default)
# RATE_LIMIT_LIMIT=100          # max requests per window per IP (default); set to 0 to disable

# -----------------------------------------------------------------------------
# Optional: Logging
# -----------------------------------------------------------------------------
# PROXY_LOGS=true    # Enable/disable Hono request logger (the --> / <-- lines); default: true
# LOG_LEVEL=info     # Log level: debug | info | warn | error

# -----------------------------------------------------------------------------
# Optional: Trakt Integration
# -----------------------------------------------------------------------------
# TRAKT_CLIENT_ID=
# TRAKT_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Optional: Fanart.tv Integration
# -----------------------------------------------------------------------------
# FANART_API_KEY=

# -----------------------------------------------------------------------------
# Optional: IMDB
# -----------------------------------------------------------------------------
# IMDB_UPDATE_INTERVAL_HOURS=24
